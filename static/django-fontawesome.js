"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}!function(t){if("complete"===document.readyState)setTimeout(t,1);else var e=setInterval(function(){"complete"===document.readyState&&(clearInterval(e),t())},10)}(function(){var n=_toConsumableArray(document.getElementsByClassName("d-fa-select"));if(0<n.length){var i=function(t){var e=l[t.target.parentNode.id];e?e.generate():new o(t.target)},r=[],e=n[0].getAttribute("data-fontawesome-prefix"),a={fab:"400",fas:"900",far:"400",fal:"300"},s=function(){function i(t,e){_classCallCheck(this,i);var n=t.value?t.value.split(","):"";this.stylePrefix=n[0],this.icon_id=n[1],this.label=t.text,this.weight=a[this.stylePrefix],this.index=e}return _createClass(i,[{key:"icon",value:function(){var t=document.createElement("i");return t.setAttribute("class","".concat(this.stylePrefix," ").concat(e,"-").concat(this.icon_id," fa-fw")),t.style.fontWeight=this.weight,t}},{key:"append",value:function(t){var e=document.createElement("a");e.setAttribute("href","javascript:void(0)"),e.setAttribute("data-index",this.index),this.icon_id&&e.append(this.icon()),e.append(this.label),t.append(e)}}]),i}();!function(){n.forEach(function(t){var e=t.closest(".form-row");e&&(e.style.overflow="visible")});for(var t=n[0].getElementsByTagName("select")[0].children,e=0;e<t.length;e++)r.push(new s(t[e],e))}();var l={},o=function(){function e(t){_classCallCheck(this,e),this.input=t,this.selectContainer=t.parentNode,this.select=t.previousElementSibling,(l[this.selectContainer.id]=this).generate()}return _createClass(e,[{key:"getOptions",value:function(){var n=this.input.value;return n==this.input.getAttribute("data-last-selected")&&"false"==this.input.getAttribute("data-dirty")?r:n?r.filter(function(e){var t=n.toLowerCase().split(/[,]+/);return t.filter(function(t){return-1<e.label.toLowerCase().indexOf(t)}).length==t.length}):r}},{key:"bindings",value:function(){var e=this;this.dropdown.addEventListener("click",function(t){e.selectOption(t)})}},{key:"generate",value:function(){var e=document.createElement("div");e.setAttribute("class","d-fa-dropdown"),this.getOptions().forEach(function(t){t.append(e)}),this.dropdown&&(this.selectContainer.removeChild(this.dropdown),this.input.setAttribute("data-dirty",!0)),this.dropdown=this.selectContainer.appendChild(e),this.bindings()}},{key:"selectOption",value:function(t){var e=this.select.selectedIndex,n=t.target.getAttribute("data-index");this.select.children[e].setAttribute("selected",!1),this.select.children[n].setAttribute("selected",!0),this.input.setAttribute("data-last-selected",t.target.text),this.input.setAttribute("data-dirty",!1),this.input.value=t.target.text,t.target.blur()}}]),e}();_toConsumableArray(document.getElementsByClassName("d-fa-input")).forEach(function(t){var e=t.previousElementSibling,n=e.children[e.selectedIndex].text;t.value=n,t.setAttribute("data-last-selected",n),t.setAttribute("data-dirty",!1),t.addEventListener("click",function(t){i(t)}),t.addEventListener("keyup",function(t){i(t)}),t.addEventListener("blur",function(t){var e=t.target.getAttribute("data-last-selected");t.target.value!=e&&(t.target.value=e||"")})})}});