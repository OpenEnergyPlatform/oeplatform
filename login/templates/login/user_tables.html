{% extends "base/base-profile.html" %}
{% load django_bootstrap5 %}
{% load static %}
{% block main-content-body %}
    {% if profile_user == request.user %}
    {% include "login/user_nav.html" %}
    <div>
    <ul>
    {% for table in tables %}
        <!-- fix the url -->
        <li>
        <a href="/dataedit/view/{{ table.schema }}/{{ table.name }}">{{ table.name }} - {{ table.schema }}{% if table.created %}{{ table.created }}{% endif %}</a>
        </li>
	{% empty %}
		No tables found for this user.</li>
	{% endfor %}
    </ul>
    </div>
    {% endif %}
{% endblock %}


{% block main-right-sidebar-content %}
    {% if profile_user == request.user %}
    <div class="profile-sidebar">
        <div class="profile-sidebar__img">
            {% if profile_user.profile_img %}
            <img class="rounded-circle account-img" src="{{ profile_user.profile_img.url }}" width="200" height="200" alt="Profile picture">
            {% else %}
            <svg width="100" height="100" fill="currentColor" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <g>
                    <path d="m90.469 80.945v-9.5234h-4.7617v-4.7617h-4.7617v-4.7617h-4.7617v-4.7773h-14.285v4.7773h-9.5234v0.019531h-14.297v-4.7773h-14.285v4.7773h-4.7617v4.7617h-4.7617v4.7617h-4.7617v9.5234l-4.7461-0.003906v14.293h47.652v-0.019531h42.848v-14.293zm0 9.5195h-38.094v0.019531h-42.867v-4.7617h4.7617v-9.5234h4.7617v-4.7617h4.7617v-4.7617h4.7617v-4.7617h4.7617v4.7617h19.074v-0.019531h14.27v-4.7617h4.7617v4.7617h4.7617v4.7617h4.7617v4.7617h4.7617v9.5234h4.7617z"/>
                    <path d="m71.43 19.027v-4.7617h-4.7617v-4.7617h-4.7617v-4.7539h-9.5234v0.019531h-14.312v4.7617h-4.7617v4.7617h-4.7617v4.7617h-4.7617v19.047h4.7617v4.7617h4.7617v4.7617h4.7617v4.7695h14.312v-0.019531h9.5234v-4.7695h4.7617v-4.7617h4.7617v-4.7617h4.7617v-19.047l-4.7617-0.003906zm0 9.5234v4.7617h-4.7617v4.7617h-4.7617v4.7617h-4.7617v4.7617h-4.7617v0.019532h-9.5508v-4.7617h-4.7617v-4.7617h-4.7617v-4.7617h-4.7617v-9.5234h4.7617v-4.7617h4.7617v-4.7617h4.7617v-4.7617h9.5508l0.003907-0.015626h4.7617v4.7617h4.7617v4.7617h4.7617v4.7617h4.7617z"/>
                </g>
            </svg>
        {% endif %}
        </div>
        <div class="profile-sidebar__block">
            <p class="profile-sidebar__name">{{ profile_user.name }}</p>
            <div>
                {% if profile_user.fullname %}
                    {{ profile_user.fullname }}
                {% else %}
                    <p>Full Name</p>
                {% endif %} 
            </div>
            <p>Member since {{ profile_user.registration_date|date:"d/m/Y" }}</p>
        </div>
        <div class="profile-sidebar__block">
            <div>{% if profile_user.work %}
                <p>{{ profile_user.work }}</p>
            {% else %}
                <p>Profession</p>
            {% endif %} 
            </div>
            <div>{% if profile_user.location %}
                <p>{{ profile_user.location }}</p>
            {% else %}
                <p>Location</p>
            {% endif %} 
            </div>
            <div> {% if profile_user.email %}
                <p>{{ profile_user.email }}</p>
                {% endif %}
                <p> {% if profile_user.linkedin %}
                    <a href="{{ profile_user.linkedin }}">{{ profile_user.linkedin }}</a>
                    {% else %}
                        LinkedIn
                    {% endif %} </p>
                <p> {% if profile_user.facebook %}
                    <a target="_blank" href="{{ profile_user.facebook }}">{{ profile_user.facebook }}</a>
                    {% else %}
                        Facebook
                    {% endif %} </p>
                <p> {% if profile_user.twitter %}
                    <a href="{{ profile_user.twitter }}">{{ profile_user.twitter }}</a>
                    {% else %}
                        Twitter
                    {% endif %} </p>
            </div>
        </div>
    </div>

    {% endif %}
{% endblock %}
