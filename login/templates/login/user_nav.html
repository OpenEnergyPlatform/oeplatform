{# this is the subpage navigation on the user profile page #}
{% load static %}
<script>
  function toggler(divId) {
      $("#" + divId).toggle();
  }

  // add .active class to selected tab
  document.addEventListener("DOMContentLoaded", function() {
    const currentPath = window.location.pathname;
    const tabs = document.querySelectorAll("#profileTabs a");

    tabs.forEach(tab => tab.classList.remove("active"));

    tabs.forEach(tab => {
      const tabPath = new URL(tab.href, window.location.origin).pathname;
      if (tabPath === currentPath) {
        tab.classList.add("active");
      }
    });
  });
</script>

<div class="pages-nav-tabs" id="profileTabs">
  {% if request.user.is_authenticated and profile_user == request.user %}
  <a href="{% url 'login:tables' profile_user.id %}">
    <svg height="16" width="16" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
      <path d="m16,14V2C16,.9,15.1,0,14,0H2c-1.1,0-2,.9-2,2v12c0,1.1.9,2,2,2h12c1.1,0,2-.9,2-2h0Zm-14,1c-.6,0-1-.4-1-1V2c0-.6.4-1,1-1h3v14h-3Zm4,0V1h4v14h-4ZM11,1h3c.6,0,1,.4,1,1v12c0,.6-.4,1-1,1h-3V1Z"/>
    </svg>
    Tables
  </a>
  <a href="{% url 'login:reviews' profile_user.id %}">
    <svg height="16" width="16" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
      <path d="m12.58,15.28c-.1,0-.2-.03-.3-.08l-4.32-2.99-4.29,2.94c-.19.12-.42.12-.61,0-.19-.13-.25-.35-.2-.57l1.5-5.05L.21,6.34c-.19-.13-.25-.37-.19-.57.07-.22.27-.35.49-.37l5.27-.13L7.53.35c.07-.2.27-.35.49-.35s.42.13.49.35l1.77,4.96,5.22.13c.22,0,.42.15.49.37.07.22,0,.44-.19.57l-4.17,3.21,1.48,5c.07.22-.02.44-.2.57-.1.07-.2.1-.32.1h0Zm-4.63-4.24c.1,0,.2.03.3.08l3.42,2.34-1.16-3.92c-.07-.2.02-.44.19-.57l3.28-2.52-4.09-.1c-.22,0-.4-.15-.49-.35l-1.38-3.9-1.36,3.87c-.07.2-.27.34-.49.35l-4.14.12,3.23,2.49c.17.13.25.35.19.57l-1.18,3.97,3.36-2.3c.1-.08.2-.12.32-.12h0Z"/>
    </svg>
    Reviews
    <span class="early-access">
      Early Access
    </span>
  </a>
  <a href="{% url 'login:groups' profile_user.id %}">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
      <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"/>
    </svg>
    Groups
  </a>
  <a href="{% url 'login:settings' profile_user.id %}">
    <svg height="16" width="16" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
      <path d="m8.91,16h-1.81c-.6,0-1.12-.41-1.26-.99l-.22-.86c0-.06-.05-.11-.1-.13-.05-.03-.12-.03-.17,0l-.74.46h0c-.51.3-1.17.22-1.59-.2l-1.29-1.27c-.42-.42-.5-1.08-.2-1.59l.46-.74c.03-.05.03-.12,0-.17-.02-.06-.07-.1-.13-.1l-.86-.22C.41,10.05,0,9.52,0,8.93v-1.83c0-.6.41-1.12.99-1.26l.86-.22c.06,0,.11-.05.13-.1.03-.05.03-.12,0-.17l-.46-.74h0c-.3-.51-.22-1.17.2-1.59l1.28-1.29c.42-.42,1.08-.5,1.59-.2l.74.46c.05.03.12.03.17,0,.06-.02.1-.07.1-.13l.22-.86C5.96.41,6.48,0,7.08,0h1.82c.6,0,1.12.41,1.26.99l.22.86h0c0,.06.05.11.1.13.05.03.12.03.17,0l.74-.46c.51-.3,1.17-.22,1.59.2l1.28,1.28h0c.42.42.5,1.08.2,1.59l-.46.74c-.03.05-.03.12,0,.17.02.06.07.1.13.1l.86.22c.58.14.99.67.99,1.26v1.82c0,.6-.41,1.12-.99,1.26l-.86.22h0c-.06,0-.11.05-.13.1-.03.05-.03.12,0,.17l.46.74c.3.51.22,1.17-.2,1.59l-1.28,1.28h0c-.42.42-1.08.5-1.59.2l-.74-.46c-.05-.03-.12-.03-.17,0-.06.02-.1.07-.1.13l-.22.86h0c-.13.59-.65,1-1.25,1.01h0Zm-3.47-3.1c.6,0,1.12.4,1.26.98l.22.86h0c.02.08.09.14.18.14h1.82,0c.08,0,.16-.06.18-.14l.22-.86h0c.09-.4.37-.72.74-.89.38-.16.82-.13,1.17.09l.74.45c.07.05.16.05.23,0l1.28-1.28c.05-.07.05-.16,0-.23l-.45-.74c-.21-.35-.25-.79-.09-1.17.16-.38.49-.67.88-.77l.86-.22h0c.08-.02.14-.09.14-.18v-1.86c0-.08-.06-.16-.14-.18l-.86-.22h0c-.4-.1-.73-.39-.88-.77-.16-.38-.12-.81.09-1.17l.45-.74c.05-.07.05-.16,0-.23l-1.24-1.29c-.07-.05-.16-.05-.23,0l-.74.45h0c-.35.21-.79.25-1.17.09-.38-.16-.67-.49-.77-.88l-.22-.86c-.02-.08-.09-.14-.18-.14h-1.83c-.08,0-.16.06-.18.14l-.22.83c-.1.4-.38.73-.77.88-.38.16-.81.12-1.17-.09l-.74-.45c-.07-.05-.16-.05-.23,0l-1.29,1.31c-.05.07-.05.16,0,.23l.45.74h0c.21.35.25.79.09,1.17-.16.38-.49.67-.88.77l-.86.22c-.08.02-.14.09-.14.18v1.82c0,.08.06.16.14.18l.86.22c.4.1.73.39.88.77.16.38.12.81-.09,1.17l-.45.74h0c-.05.07-.05.16,0,.23l1.28,1.31c.07.05.16.05.23,0l.74-.45h0c.21-.11.45-.17.68-.16h0Zm2.57-1.36c-.94,0-1.84-.37-2.5-1.03-.66-.66-1.03-1.56-1.03-2.5s.37-1.84,1.03-2.5c.66-.66,1.56-1.03,2.5-1.03s1.84.37,2.5,1.03c.66.66,1.03,1.56,1.03,2.5s-.37,1.84-1.03,2.5c-.66.66-1.56,1.03-2.5,1.03Zm0-5.95h0c-.98,0-1.86.59-2.23,1.49-.37.9-.17,1.94.52,2.63.69.69,1.73.9,2.63.52.9-.37,1.49-1.26,1.49-2.23,0-1.33-1.08-2.41-2.42-2.42h0Z"/>
    </svg>
    Settings
  </a>
  {% else %}
  No permissions!
  {% endif%}
</div>
