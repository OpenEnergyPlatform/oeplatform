{% extends "base/base.html" %}
{% load static %}

{% block after-head %}
    <link rel="stylesheet" href="{% static 'dataedit/dataedit.css' %}">
{% endblock after-head %}


{% block main-right-sidebar-content %}
    {% block main-right-sidebar-disclaimer %}
    {% endblock main-right-sidebar-disclaimer %}

    {% block main-right-sidebar-content-additional %}
    {% endblock main-right-sidebar-content-additional %}
    <h3>Filters</h3>
    <form action="{{ request.path }}" method="get">
        <div class="searchbox_container small">
            <input type="text" name="query" placeholder="Search" class="form-control" />
        </div>
        <hr>
        {% load dataedit.taghandler %}
        {% get_tags None None 10 as all_tags %}
        <div class="foldable-entry">
            <h5>Tags</h5>
            <span class="fa fa-caret-up collapsed" data-toggle="collapse" data-target="#tags"></span>
            <div id="tags" class="collapse foldable-entry-body">
                <div style="display: flex;">
                    {% for t in all_tags %}
                        <label class="tag-checkbox-container" style="background:{{ t.color }};color:{% readable_text_color t.color %}">
                            <input type="checkbox" class="tag-checkbox" name="tags" value="{{ t.id }}">
                            <span>{{ t.name }}</span>
                            <span class="tag-checkbox-icon fas fa-check"></span>
                        </label>
                    {% endfor %}
                </div>
                <button type="submit" class="btn btn-secondary">
                    Apply Filters
                </button>
            </div>
        </div>


    </form>
    <hr>
    {% include "dataedit/admin.html" with data=data display_message=display_message display_items=display_items %}
    <hr>
    <h3>Manage Tags</h3>
    <div style="overflow: hidden;">
        <a href="/dataedit/tags" class="btn btn-secondary">Manage Tags</a>
    </div>
    <hr>
{% endblock %}
{% block main-content-body %}
{% block data_content %}

{% endblock %}
{% endblock %}

{% block after-body-bottom-js %}
    <script type="text/javascript" src="{% static '/dataedit/dataedit.js' %}"></script>
{% endblock after-body-bottom-js %}
